<!-- <nb-layout class="bg-white">
  <nb-layout-column> -->
<div class="main-container">
  <div class="card-container">
    <p-card>
      <ng-template pTemplate="header">
        <div>
          <h4>
            <b>{{ 'login.header.title' | translate }}</b>
          </h4>
        </div>
      </ng-template>
      <section class="login-form">
        <form
          #form="ngForm"
          (ngSubmit)="login()"
          [formGroup]="loginForm"
          aria-labelledby="title"
        >
          <div class="form-group form-control-group">
            <label class="label" for="input-username">{{ 'login.form.email.title' | translate }}:</label>
            <!-- pattern=".+@.+\..+" -->
            <input
              nbInput
              fullWidth
              name="email"
              formControlName="email"
              id="input-username"
              placeholder="{{ 'login.form.email.placeholder' | translate }}"
              autofocus
              [status]="
                loginForm.get('email').dirty
                  ? loginForm.get('email').invalid
                    ? 'danger'
                    : 'primary'
                  : 'basic'
              "
              [required]=""
              [attr.aria-invalid]="
                loginForm.get('email').invalid && loginForm.get('email').touched
                  ? true
                  : null
              "
            />
            <ng-container
              *ngIf="
                loginForm.get('email').invalid && loginForm.get('email').touched
              "
            >
              <span
                class="caption status-danger"
                *ngIf="loginForm.get('email').hasError('required')"
              >
              {{ 'login.form.email.required' | translate }}
              </span>
              <span
                class="caption status-danger"
                *ngIf="loginForm.get('email').hasError('email')"
              >
              {{ 'login.form.email.valid' | translate }}
              </span>
            </ng-container>
          </div>

          <div class="form-group form-control-group">
            <label class="label" for="input-password">  {{ 'login.form.password.title' | translate }}:</label>
            <input
              nbInput
              fullWidth
              name="password"
              type="password"
              id="input-password"
              placeholder=" {{ 'login.form.password.placeholder' | translate }}"
              formControlName="password"
              [status]="
                loginForm.get('password').dirty
                  ? loginForm.get('password').invalid
                    ? 'danger'
                    : 'primary'
                  : 'basic'
              "
              [attr.aria-invalid]="
                loginForm.get('password').invalid &&
                loginForm.get('password').touched
                  ? true
                  : null
              "
            />
            <ng-container
              *ngIf="
                loginForm.get('password').invalid &&
                loginForm.get('password').touched
              "
            >
              <span
                class="caption status-danger"
                *ngIf="loginForm.get('password').hasError('required')"
              >
                {{ "login.form.password.required" | translate }}
              </span>
              <span
                class="caption status-danger"
                *ngIf="
                  loginForm.get('password').errors?.minlength ||
                  loginForm.get('password').hasError('maxlength')
                "
              >
                {{
                  "login.form.password.length"
                    | translate : { min: minlength, maxlength: maxlength }
                }}
              </span>
            </ng-container>
          </div>

          <!-- <div class="form-group form-control-group accept-group">
              <nb-checkbox
                name="rememberMe"
                [(ngModel)]="user.rememberMe"
                *ngIf="rememberMe"
                >Remember me</nb-checkbox
              >
            </div> -->
          <div class="buttons-container">
            <button
              nbButton
              status="primary"
              [disabled]="!form.valid"
              [class.btn-pulse]="submitted"
            >
              {{ "login.form.btnSubmit" | translate }}
            </button>
          </div>
        </form>
      </section>
    </p-card>
  </div>
</div>

<!-- </nb-layout-column>
</nb-layout> -->
